# 可以更新功能

- 减少颜色
- 更多驱动
  - 以前购买过的屏幕
  - 7789	240 * 320	240 * 280	240 * 240	135 * 240	170 * 320
  - GC9A01	240  * 240
  - 7735	 80  * 160	128  * 160	128 * 128
  - GC9107	128 * 128
- 已经是列刷新了，字符显示可以加快，不使用多次 _set_window
- 单个字符缓存大小，由加载字符时最大尺寸字符决定
- 4线SPI下，理论上非常简单就可以节省引脚，测试无误后支持它
  - 1个SPI设备，3个引脚，SCL,SDA,DC
  - 2个SPI设备，4个引脚，SCL,SDA,DC,CS，CS反向
  - 3个及以上SPI设备
    - 似乎在很多地方，听说一种二进制 转  数据位的芯片，2CS挂4个设备，3个CS挂8个设备
    - 上面方法还是需要大于一个引脚，猜测应该有1扩N的数字芯片，就是不知道是否可以白嫖
- 3线spi，还可以省略 DC 引脚
- 已经是列刷新，字符显示可以加快，不使用多次 _set_window
- 波形更新，添加min数据 和 自适应模式
- 用杜邦线连接，cs使能时，dc切换时，需要加点延迟



# 速度问题记录

~~~python
# 刷新大量数据时 （ESP32S3）
	# 推算实际为	30MHZ
    # 示波器查看 40MHZ
    # 网上搜索	 80MHZ
	# 官网某个文档看到，默认引脚80MHZ，非默认引脚40MHZ，未验证
    
# 问题1：少10Mhz问题，单独记录每一次刷新屏幕耗时，刷新460800字节，出现了2种数据	(已解决)
    # 1、速度 95 ~ 105ms, 基本稳定在100已内，推算SPI为40MHZ完全符合
    # 2、速度 160 ~ 180ms
        # 我在开发时，使用的是网络更新，有一个单独的线程频繁发送网络请求，也许是网络线程打断了
        # 由于SPI.write(),传入的是memoryview，所以忘记查看是否会是GC导致了
        
# 问题2：少40Mhz问题(已解决)
	# 问题也许来自分频(?)，不过我不知道那是什么东西，不过我大约听说过SPI频率和时钟树(?)有关
    # 基于问题，推测SPI无法设置指定频率，只能选择几个固定频率，所以指定的频率未曾生效
    	# 解决，给一个 >= 最高频率的频率
        # 10MHZ、20MHZ、26.66MHZ、40MHZ、80MHZ,随便指定了几个频率返回的频率，示波器只验证了80MHZ
        # 似乎没规律，有兴趣在搜一下看看，实际原因
    # 80MHZ写入上面同样的数据返回时间，推算SPI为80MHZ完全符合
    	# 1、速度 49ms最多，50ms次之
        # 2、速度 119 ~ 121ms

        
# 使用问题已经完全解决，剩下两个小问题
	# 1、SPI写入时，偶尔耗时会变多60~70MS
    	# 判断网络线程工作的原因
        # 因为无论频率如何，平均时间总是多了20MS左右。
        # 如果是GC数据量都翻倍了。
    # 2、SPI频率只能使用一些固定值
    
    
    
~~~

